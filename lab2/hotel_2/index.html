<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rezerwacja hotelowa</title>
  </head>

  <body>
    <h1>Formularz rezerwacji hotelowej</h1>
    <form method="post" action="save.php">
      <label for="number_of_guests">Liczba osób:</label>
      <select name="number_of_guests" id="number_of_guests">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option></select
      ><br />

      <div id="guests-form-container"></div>

      <label for="address">Adres:</label>
      <input type="text" name="address" id="address" required /><br />

      <label for="credit_card">Dane karty kredytowej:</label>
      <input type="text" name="credit_card" id="credit_card" required /><br />

      <label for="email">Email:</label>
      <input type="email" name="email" id="email" required /><br />

      <label for="arrival_date">Data przyjazdu:</label>
      <input type="date" name="arrival_date" id="arrival_date" required /><br />

      <label for="arrival_time">Godzina przyjazdu:</label>
      <input type="time" name="arrival_time" id="arrival_time" required /><br />

      <label for="child_bed">Dostawka dla dziecka:</label>
      <input type="checkbox" name="child_bed" id="child_bed" /><br />

      <label for="amenities">Udogodnienia:</label><br />
      <input type="checkbox" name="amenities[]" value="klimatyzacja" />
      Klimatyzacja<br />
      <input type="checkbox" name="amenities[]" value="popielniczka" />
      Popielniczka dla palacza<br />

      <button type="submit">Zarezerwuj</button>
    </form>
  </body>

  <script>
    function populateGuestForms() {
      var numberOfGuests = document.getElementById("number_of_guests").value;
      var formContainer = document.getElementById("guests-form-container");
      formContainer.innerHTML = "";

      for (var i = 1; i <= numberOfGuests; i++) {
        var guestForm = `
            <fieldset>
                <legend>Dane osoby ${i}</legend>

                <label for="name${i}">Imię:</label>
                <input type="text" name="name${i}" id="name${i}" required>

                <label for="surname${i}">Nazwisko:</label>
                <input type="text" name="surname${i}" id="surname${i}" required>
            </fieldset>
        `;
        formContainer.innerHTML += guestForm;
      }
    }

    document
      .getElementById("number_of_guests")
      .addEventListener("change", populateGuestForms);

    document.addEventListener("DOMContentLoaded", populateGuestForms);
  </script>
</html>
